<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浏览器面试相关 | 老杆的前端记录</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="Go big or go home">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.585d659a.js" as="script"><link rel="preload" href="/assets/js/2.5bf1c715.js" as="script"><link rel="preload" href="/assets/js/30.4a27f7bc.js" as="script"><link rel="prefetch" href="/assets/js/10.3c4722f1.js"><link rel="prefetch" href="/assets/js/11.926d9a65.js"><link rel="prefetch" href="/assets/js/12.89662875.js"><link rel="prefetch" href="/assets/js/13.b24d0fd4.js"><link rel="prefetch" href="/assets/js/14.fe4261ec.js"><link rel="prefetch" href="/assets/js/15.d5d2b490.js"><link rel="prefetch" href="/assets/js/16.d7cb7df3.js"><link rel="prefetch" href="/assets/js/17.a8a539e4.js"><link rel="prefetch" href="/assets/js/18.9a7a379f.js"><link rel="prefetch" href="/assets/js/19.902e5d6c.js"><link rel="prefetch" href="/assets/js/20.89b4b03e.js"><link rel="prefetch" href="/assets/js/21.b9428d88.js"><link rel="prefetch" href="/assets/js/22.bca3e9c2.js"><link rel="prefetch" href="/assets/js/23.dd12f692.js"><link rel="prefetch" href="/assets/js/24.a1974514.js"><link rel="prefetch" href="/assets/js/25.e878ae6c.js"><link rel="prefetch" href="/assets/js/26.efd1416d.js"><link rel="prefetch" href="/assets/js/27.867f73b1.js"><link rel="prefetch" href="/assets/js/28.fbfc66d6.js"><link rel="prefetch" href="/assets/js/29.279cac21.js"><link rel="prefetch" href="/assets/js/3.2cde5f11.js"><link rel="prefetch" href="/assets/js/31.11173338.js"><link rel="prefetch" href="/assets/js/32.c2786358.js"><link rel="prefetch" href="/assets/js/33.8f760173.js"><link rel="prefetch" href="/assets/js/34.f437c018.js"><link rel="prefetch" href="/assets/js/35.ca6d5641.js"><link rel="prefetch" href="/assets/js/36.e670371f.js"><link rel="prefetch" href="/assets/js/37.c5143da6.js"><link rel="prefetch" href="/assets/js/38.83226dcf.js"><link rel="prefetch" href="/assets/js/39.29c51311.js"><link rel="prefetch" href="/assets/js/4.90c5fe7f.js"><link rel="prefetch" href="/assets/js/40.9f439bf9.js"><link rel="prefetch" href="/assets/js/41.817698ff.js"><link rel="prefetch" href="/assets/js/42.7086e250.js"><link rel="prefetch" href="/assets/js/5.93058ddb.js"><link rel="prefetch" href="/assets/js/6.0e5f5053.js"><link rel="prefetch" href="/assets/js/7.e30bb482.js"><link rel="prefetch" href="/assets/js/8.5e1ee355.js"><link rel="prefetch" href="/assets/js/9.574fd584.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">老杆的前端记录</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  求职笔记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端相关" class="dropdown-title"><span class="title">前端相关</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端相关" class="mobile-dropdown-title"><span class="title">前端相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontEnd/html/html-audition.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/css/css-audition.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/js/js-audition.html" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/vue/vue-audition.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/webpack/webpack-audition.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/browser/browser-audition.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Browser
</a></li></ul></div></div><div class="nav-item"><a href="/computerBase/" class="nav-link">
  计算机基础
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  求职笔记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端相关" class="dropdown-title"><span class="title">前端相关</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端相关" class="mobile-dropdown-title"><span class="title">前端相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontEnd/html/html-audition.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/css/css-audition.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/js/js-audition.html" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/vue/vue-audition.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/webpack/webpack-audition.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/browser/browser-audition.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Browser
</a></li></ul></div></div><div class="nav-item"><a href="/computerBase/" class="nav-link">
  计算机基础
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/frontEnd/browser/browser-audition.html" aria-current="page" class="active sidebar-link">浏览器面试相关</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="浏览器面试相关"><a href="#浏览器面试相关" class="header-anchor">#</a> 浏览器面试相关</h1> <ul><li><p>浏览器（http）缓存：第一次向服务器请求资源，浏览器缓存没有缓存结果和缓存标识，发起http请求，服务器返回请求结果和缓存规则，将结果和标识存入浏览器缓存中。http缓存机制主要在http响应头中设定，响应头中相关字段为Expires、Cache-Control、Last-Modified、Etag，将相应的<strong>缓存标识</strong>和<strong>请求结果</strong>存入浏览器缓存中。</p> <ul><li><p>强缓存：不会向服务器请求资源，直接从缓存中读取资源</p></li> <li><p>协商缓存：强制缓存失效后，<strong>携带缓存标识</strong>向服务器发起请求。第一次发送返回资源标识（last-modified/etag）并将结果放在本地缓存中，第二次向服务器请求资源（If-modify-since/If-none-match）并将资源标识发送，先向服务器询问资源是否发生变化，若更改（200），则更新文件，若没有（304），则在内存或硬盘中取</p></li></ul> <p>强缓存由服务器的响应头里 cache-control （可有多种值：max-age、public、private、no-cache、no-store）和 expires（http/1.0的 优先级低） 两个字段决定，协商缓存（304状态码）由 last-modified（资源上一次修改的时间） 或者 etag两个字段决定，Etag / If-None-Match的优先级比Last-Modified / If-Modified-Since高</p> <p>缓存请求指令：no-cache：强制向服务器再次验证、no-store：不缓存请求或响应的任何内容、max-age：响应的最大age值</p> <p>缓存响应指令：public：可向任意方提供响应的缓存、private：仅向特定用户返回响应、no-cache：缓存前必须确认其有效性、no-store：不缓存请求或响应的任何内容、max-age：响应的最大age值</p> <p>过程：缓存是否过期是看cache-control的值，没过期就强制缓存，过期了就再看看有没有协商缓存，有缓存标识也需判断结果是否过期</p></li> <li><p>输入url到浏览器解析的过程</p> <p>查找缓存，查看浏览器缓存 -- 系统缓存 -- 路由缓存中是否有该页面，如果有则呈现页面内容</p> <p>根据<code>dns</code>系统进行<code>ip</code>查找（url编码方式、dns解析）</p> <p>http协议三次握手，建立TCP连接（三次握手过程，为什么两次不行）</p> <p>发送http请求（get和post的区别、http缓存）</p> <p>处理请求返回HTTP报文（状态码）</p> <p>浏览器解析渲染页面（解析过程、重流重绘）</p> <p>断开TCP连接（四次挥手过程，为什么客户端需要等待2MSL）</p></li> <li><p>indexDB：浏览器提供的本地数据库，可被脚本创建和操作</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> request <span class="token operator">=</span> window<span class="token punctuation">.</span>indexedDB<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>databaseName<span class="token punctuation">,</span> version<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 第一个参数是数据库名字， 当数据库不存在则新建数据库;第二个参数是版本号，新建时版本号为1</span>
<span class="token comment">// 返回一个对象 这个对象通过error、success、upgradeneeded 处理打开数据库的操作结果</span>

request<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'数据库打开失败'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> db<span class="token punctuation">;</span>
request<span class="token punctuation">.</span><span class="token function-variable function">onsuccess</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  db <span class="token operator">=</span> request<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'数据库打开成功'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> db<span class="token punctuation">;</span>
<span class="token comment">// 当指定版本号大于数据库实际版本号时，就会发生数据库升级事件upgradeneeded</span>
request<span class="token punctuation">.</span><span class="token function-variable function">onupgradeneeded</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
db <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
<span class="token keyword">var</span> objectStore<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>db<span class="token punctuation">.</span>objectStoreNames<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'person'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 新建一张叫做person的表，主键是id</span>
  objectStore <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">createObjectStore</span><span class="token punctuation">(</span><span class="token string">'person'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> keyPath<span class="token operator">:</span> <span class="token string">'id'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 索引名称、索引对应的属性、属性配置对象，表示该属性可以重复</span>
    objectStore<span class="token punctuation">.</span><span class="token function">createIndex</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> unique<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    objectStore<span class="token punctuation">.</span><span class="token function">createIndex</span><span class="token punctuation">(</span><span class="token string">'email'</span><span class="token punctuation">,</span> <span class="token string">'email'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> unique<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
<span class="token punctuation">}</span>
  <span class="token comment">// 指定主键为递增的整数</span>
<span class="token comment">// var objectStore = db.createObjectStore(</span>
<span class="token comment">//    'person',</span>
<span class="token comment">//    { autoIncrement: true }</span>
<span class="token comment">//);</span>
<span class="token punctuation">}</span>
<span class="token comment">// 事务进行一系列增删改查，先db.transaction('person') 新建一个事务 </span>
<span class="token comment">// 新建事务以后，通过IDBTransaction.objectStore(name)方法，拿到 IDBObjectStore 对象</span>
<span class="token comment">// 新增数据</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">var</span> request <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'person'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'readwrite'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">objectStore</span><span class="token punctuation">(</span><span class="token string">'person'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span> email<span class="token operator">:</span> <span class="token string">'zhangsan@example.com'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

request<span class="token punctuation">.</span><span class="token function-variable function">onsuccess</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'数据写入成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

request<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'数据写入失败'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 读取数据</span>
<span class="token keyword">function</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">var</span> transaction <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'person'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">var</span> objectStore <span class="token operator">=</span> transaction<span class="token punctuation">.</span><span class="token function">objectStore</span><span class="token punctuation">(</span><span class="token string">'person'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">var</span> request <span class="token operator">=</span> objectStore<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// get函数传的是主键的值</span>

 request<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'事务失败'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span>

 request<span class="token punctuation">.</span><span class="token function-variable function">onsuccess</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Name: '</span> <span class="token operator">+</span> request<span class="token punctuation">.</span>result<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Age: '</span> <span class="token operator">+</span> request<span class="token punctuation">.</span>result<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Email: '</span> <span class="token operator">+</span> request<span class="token punctuation">.</span>result<span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'未获得数据记录'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">var</span> request <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'person'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'readwrite'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">objectStore</span><span class="token punctuation">(</span><span class="token string">'person'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'李四'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">35</span><span class="token punctuation">,</span> email<span class="token operator">:</span> <span class="token string">'lisi@example.com'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

request<span class="token punctuation">.</span><span class="token function-variable function">onsuccess</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'数据更新成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

request<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'数据更新失败'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">var</span> request <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'person'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'readwrite'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">objectStore</span><span class="token punctuation">(</span><span class="token string">'person'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

request<span class="token punctuation">.</span><span class="token function-variable function">onsuccess</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'数据删除成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br></div></div></li> <li><p>cookie和session的区别</p> <p>session：客户端请求服务端，服务端会为这次请求开辟一块内存空间，即创建session对象，同时生成sessionId，并通过响应头set-cookie，向客户端发送要求设置cookie，且记录了是向此客户端发送的；客户端以后在发送请求的时候就能携带这个sessionId了，服务器就能判断是否为同一个会话</p> <p>cookie：是对http无状态的改良。服务器可以发送带有set-cookie的标头，然后就设置了cookie，浏览器请求时请求头的cookie字段就会将存储的cookie发送给服务器</p> <ul><li>session cookie：客户端关闭的时候cookie会删除，因为没有指定expire或者max-age指令</li> <li>永久性cookie：设置了expires或者max-age</li></ul> <p>会话跟踪技术（cookie和session的创建、数据保存的地方、安全性）</p></li> <li><p>cookie的domin（指定哪些域名可以接收cookie）、path（cookie匹配的服务器资源目录）属性、httpOnly（指定cookie是否可以被js访问到）、secure（需要经过https协议通过加密的方式才能发送到服务端）</p></li> <li><p>jwt（JSON web Token）和session cookie：对用户进行身份认证，避免在页面切换的时候都进行登录，保存了用户登录状态</p> <ul><li><p>session cookie：用户登录状态保存在服务器的内存中，如果请求时携带的sessionId和服务器的相同，那么就响应数据</p></li> <li><p>jwt：安全的将信息作为json对象进行传输，jwt存储的信息是经过数字签名的，身份验证是在客户端，而不是在服务器内存中，意为着可以对用户进行多次验证，而不用和服务端进行通信，无需消耗资源。jwt可以支持跨域认证，而会话cookie只能用在一个域中</p></li></ul></li> <li><p>浏览器本地存储：</p> <ul><li>cookie：向同一个域名下发送请求，都会携带相同的cookie。容量小；紧跟着域名，可能会携带一些没必要的内容到服务器；安全缺陷，很容易被非法用户截获。</li> <li>localStorage：有一点跟cookie一样，针对同一个域名，在同一个域名下，会存储相同的一段localStorage。容量大，只存在于客户端，不参与通信；操作起来比较方便</li> <li>sessionStorage：容量方面跟local一样，上限都是5M；只存在于客户端；接口封装，操作方便。页面关闭，存储就不存在了。页面刷新后数据还在</li> <li>indexDB：运行在浏览器的非关系型数据库</li></ul></li> <li><p>浏览器运行机制、浏览器线程？</p> <p>浏览器是多进程的，每一个tab页都是一个独立的进程</p> <ul><li>主进程：协调其他子进程，浏览器界面显示，用户交互、前进、后退</li> <li>浏览器（渲染）内核：页面渲染，每一个tab页面一个渲染进程</li> <li>GPU进程：用于3d绘制</li></ul> <p>浏览器内核进程里面又是多线程的（JS引擎和GUI渲染引擎互斥）</p> <ul><li>JS引擎线程：负责解析和执行js脚本，只有一个js线程</li> <li>GUI渲染线程：负责渲染页面，页面重绘或者重流</li> <li>定时触发器线程：setInterval和setTimeout所在的线程</li> <li>事件线程：控制事件循环，管理异步回调的事件队列；当事件满足触发条件时，将事件放入JS引擎所在的执行队列</li></ul> <p>由于js是可以操作DOM的，为了防止渲染出现不可预期的效果，浏览器预定渲染线程和js线程互斥</p></li> <li><p>浏览器如何渲染出UI的？</p> <ul><li>浏览器获取HTML文件，然后对文件进行解析，二进制数据编码格式转化为HTML字符串，生成Tokens，构建node，通过指针确定Node的父、子、兄弟关系，根据指针关系形成DOM树</li> <li>进行CSS解析，生成Style Rules</li> <li>接着DOM树和Style Rules结合成为Render Tree</li> <li>进入layout阶段，为每个结点分配出一个应出现在屏幕上的位置</li> <li>随后进行GPU绘制，遍历render Tree的结点，呈现元素</li></ul></li> <li><p>浏览器重绘和重排</p> <p>HTML被HTML解析器解析成DOM树，CSS被CSS解析器解析成CSSOM树，结合两者生成一颗渲染树，接着生成布局，然后将渲染树绘制在屏幕上。</p> <p>重排（回流）：重新计算元素的几何属性（位置或者大小），需要改变渲染树，性能花销大。添加或删除DOM元素、边框、宽高、浏览器窗口变化resize事件发生时，计算offsetWidth等需要实时的属性，设置style属性</p> <p>重绘：当一个元素外观上发生改变，但没有改变布局，重新把外观绘制出来就好。color、background、outline、visibility</p> <p>重绘体现在外观上，重排体现在页面元素的排列上，<strong>重绘不一定引起重排，重排一定引起重绘</strong>。</p> <p>重排优化建议：</p> <ul><li><p>样式集中改变，用<code>cssText</code>或者直接增加一个类名</p></li> <li><p>分离读写操作</p></li> <li><p>缓存布局信息：先拿到offsetTop、offsetLeft，再分别赋值到<code>style.left</code>、<code>style.top</code>上</p></li> <li><p>DOM&quot;离线&quot;操作。隐藏DOM（display为none），修改完成后再显示出来；或者放在文档碎片中修改，完成修改后再添加到文档中</p></li> <li><p>JS一次性重写style属性</p></li> <li><p>把动画应用到position属性为absolute或者fixedd的元素上</p></li> <li><p>启用GPU硬件加速，优化css，如CSS3 3d变换、WebGL等</p></li></ul></li> <li><p>前端安全</p> <p>可以分为主动攻击（攻击者直接访问Web应用，把攻击代码传入）和被动攻击（诱使用户触发已设置好的陷阱，陷阱会启动发送已嵌入攻击代码的HTTP请求）</p> <p>（1）因输出值转义不完全引发的安全漏洞（XSS、SQL、OS）</p> <ul><li><p>SQL注入，针对Web应用使用的数据库，通过非法运行SQL而产生的攻击。可能会发生非法查看或篡改、规避认证、执行和数据库服务器业务关联的程序</p> <p>可以将传入的SQL语句执行参数加上'--'，可以将SQL语句注释一部分从而得到不一样的结果</p></li> <li><p>OS命令注入攻击，通过Web应用，执行非法的操作系统命令达到攻击的目的。能调用shell函数的地方就有存在被攻击的风险。</p></li> <li><p>XSS攻击（跨站脚本攻击）：运行非法的HTML标签或者JS代码，执行恶意脚本，从而拿到用户的信息并进行操作。可以完成盗取cookie、修改dom伪造登录表单、生成浮窗广告、监听用户行为</p> <ul><li>存储型：用户存了一些信息进数据库，然后显示的时候执行了信息中不正当的脚本，达到攻击效果</li> <li>反射型：恶意脚本作为网络请求的一部分，服务器并不会存储这些恶意脚本</li> <li>文档型：直接在通信的时候，抓包修改html文档</li></ul> <p>防范：永远不要相信用户的输入，要对用户输入进行转码或者过滤；利用CSP（浏览器中的内容安全策略），限制其他域下的资源加载，禁止向其他域提交数据；利用HttpOnly，设置true后，js就无法读取cookie的值</p></li></ul></li></ul> <p>（2）因设置或设计上的缺陷引发的安全漏洞</p> <ul><li><p>强制浏览，如果被知道了一些绝对的url，就可以访问一些本来没权限访问到的内容</p></li> <li><p>不当的提示消息，如果错误提示太明显，就会让攻击者有机可乘</p></li> <li><p>开放重定向，对指定任意URL进行重定向的功能，攻击者可以让这个url到某个恶意网</p> <p>（3）因会话管理管理疏忽引发的安全漏洞</p></li> <li><p>会话劫持，通过XSS攻击，利用JS脚本调用document.cookie窃取cookie信息，然后攻击者就能在自己的电脑上用用户的身份搞事情</p></li> <li><p>CSRF攻击（跨站请求伪造）：诱导用户点击连接，打开第三方网站，然后利用用户目前的登录状态发起跨站请求；当你点击某个连接进入某个网站之后，可能会发生以下事情：</p> <ul><li>自动发get请求：发送一个同源的get请求，携带上cookie信息，利用你的登录状态，可以做转账汇款等恶意操作</li> <li>自动发post请求：在网站内写了个表单，自动往原来的服务器发送一个post请求，让服务器以为是一个正常的用户在操作。</li></ul> <p>和<code>XSS</code>攻击对比，CSRF 攻击并不需要将恶意代码注入用户当前页面的<code>html</code>文档中，而是跳转到新的页面，利用服务器的<strong>验证漏洞</strong>和<strong>用户之前的登录状态</strong>来模拟用户进行操作。</p> <p>防范：验证来源站点、利用Cookie的SameSite属性，设置为只能在和服务器域名下的网站才能携带cookie，在其他网站对服务器发送请求无效</p></li> <li><p>首屏优化</p></li> <li><p>console.log是打印一个快照，打印引用类型时保存当时那个引用类型的指针</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">setFun</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">reslove</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">reslove</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">getFun</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">setFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    arr <span class="token operator">=</span> result<span class="token punctuation">;</span> <span class="token comment">// 修改了指针指向 原来的console.log还是不变</span>
<span class="token punctuation">}</span>
<span class="token function">getFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 最先打印 保存了最开始arr的指针</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li> <li><p>浏览器对象：window、document、screen、location、navigator、history</p></li> <li><p>跨域：浏览器环境下，跨域指的是一个域下的文档或脚本试图去请求另一个域下的资源，是由浏览器同源策略限制引起的请求场景</p> <p>浏览器同源策略：浏览器安全的基石，cookie、localStorage、IndexDB等存储性内容无法读取，DOM节点和JS对象无法获取，AJAX请求发送后，结果被浏览器拦截；缺少了同源策略，浏览器很容易收到攻击</p> <p>同源指的是：协议相同、域名相同、端口相同</p> <p>img、link、script是允许跨域的</p> <p>解决方案</p> <ul><li><p>document.domin + iframe 只适用于主域相同、子域不同的场景</p></li> <li><p>片段标识符(#)：a页面向不同源的c页面发送数据，c页面通过location.hash拿到数据，再将发送还给a的数据发送给与a同源的b页面，b页面拿到值后，直接用JS和同源的a页面进行通信就好了。</p></li> <li><p>window.name：在一个窗口的声明周期内，是都可以共享window的name 属性的；a页面和b页面不同源，a页面和c页面同源，a页面首先加载b页面，b页面将内容存储在window.name属性中，接着a页面再记载c页面，这时候就能获取到b页面的内容了</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>iframe src<span class="token operator">=</span><span class="token string">&quot;http://www.hahaha2.com/abc/b.html&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;frame&quot;</span> onload<span class="token operator">=</span><span class="token string">&quot;load()&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>iframe<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token comment">// onload事件会触发2次</span>
  <span class="token comment">// 第1次onload跨域页b成功后，留下数据window.name，后切换到同域代理页面</span>
  <span class="token comment">// 第2次onload同域页c成功后，读取同域window.name中数据</span>
  <span class="token keyword">function</span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// 第1次</span>
      <span class="token keyword">let</span> frame <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'frame'</span><span class="token punctuation">)</span>
      frame<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'http://www.hahaha1.com/abc/c.html'</span>
      flag <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
      <span class="token comment">// 第二次</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>frame<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// 我是b</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li></ul></li> <li><p>HTML5新增的postMessage方法</p></li> <li><p>CORS（跨域资源共享，https://www.ruanyifeng.com/blog/2016/04/cors.html）：基本思路是使用自定义的HTTP头部允许浏览器和服务器相互了解，以确实请求或响应该成功还是失败。CORS需要浏览器和服务器同时支持。目前，所有浏览器都支持该功能，IE浏览器不能低于IE10。</p> <p>整个CORS通信过程，都是浏览器自动完成，不需要用户参与。对于开发者来说，CORS通信与同源的AJAX通信没有差别，代码完全一样。浏览器一旦发现AJAX请求跨源，就会自动添加一些附加的头信息，有时还会多出一次附加的请求，但用户不会有感觉。</p> <p>因此，实现CORS通信的关键是服务器。只要服务器实现了CORS接口，就可以跨源通信。</p> <p>浏览器会判断跨域请求是哪一种请求：（简单请求/需要预检请求/携带身份凭证的请求）</p> <ul><li><p>简单请求（请求方法是post、get、put之一，请求头信息不超过以下几种..content-type只能有三种）</p></li> <li><p>非简单请求（会先发出预检请求，询问服务器这个源是否被许可、以及可以使用哪些头信息，如果得到肯定回复，才会发送真正的XMLhttprequest请求）</p> <p>预检请求没有请求体，请求方法为options、请求头包含Origin、Access-Control-Request-Method、 Access-Control-Request-Headers</p> <p>有身份凭证的请求：cookie默认是不发送的，浏览器可以在XML发送请求的时候设置withCredentials为true，且设置Access-Control-Allow-Credentials为true，<strong>服务端Access-Control-Allow-origin不能为*号</strong>，必须明确指明与请求网页相同的域名</p></li></ul> <p>请求头</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Origin: xxxx; 这一字符告诉服务器在哪个源地址跨域请求
Access-Control-Request-Method: POST
Access-Control-Request-Headers: a, b, content-type
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>服务端配置：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Access-Control-Allow-Origin:&quot;*&quot;; 表示服务端允许跨域访问的来源
Access-Control-Allow-Methods:
Access-Control-Allow-Headers:
Access-Control-Max-Age：告诉浏览器，多少秒内，对于同样的请求源、方法、头，都不需要再发送预检请求了
Access-Control-Allow-Credentials: true; 可选，表示是否允许发送cookie
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>JSONP：利用script标签src没有跨域限制的漏洞，只支持get请求，src的地址参数中加上前端这边定义的函数和函数所需参数，xxxxx?cb=xxxx&amp;msg=xxxx，后端拿到这个地址，解析出函数名和参数，将函数执行的代码（cb(xxxx)）拼接成字符串返回给前端，这段代码就放在script标签中执行。</p></li> <li><p>node中间件正向代理，类似Vue-cli</p></li> <li><p>nginx反向代理：同源策略只是浏览器发送请求时的限制，两台服务器之间发送请求不受限制，所以通过nginx配置一台和请求域名一样代理服务器，通过它转发请求。</p></li> <li><p>websockt：全双工通信，允许服务端主动向客户端发送信息，</p></li> <li><p>浏览器同源策略以及如何规避它</p> <p>浏览器安全的基石，cookie无法共享，同源指的是：协议相同、域名相同、端口相同，如果非同源，cookie、localStorage、IndexDB都无法读取</p> <p>如果两个网页不同源，就无法拿到对方的DOM，典型的例子是iframe窗口和window.open方法打开的窗口，他们和父窗口之间无法通信</p></li> <li><p>浏览器的监听事件 Observer！！！！</p></li> <li><p>DOM解析和CSS的解析是两个并行的过程，css资源加载完成后才渲染页面，所以CSS加载不会影响DOM的解析，但是会阻塞页面的渲染
对HTML文档自上而下解析，遇到script、link这些引入外部js、css文件的标签，停止解析。</p></li> <li><p>Intersection Observer：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> intersectionObserver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntersectionObserver</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">entries</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>Mutation Observer：监听DOM树所作更改的能力</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span>
<span class="token comment">// config对象能传入 要观察哪些变动</span>
observer<span class="token punctuation">.</span><span class="token function">oberve</span><span class="token punctuation">(</span>targetNode<span class="token punctuation">,</span> config<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//传入要监听的结点 和 配置对象</span>
observer<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 停止观察</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>Resize Observer：监听到Element内容区域的边界框变化</p></li> <li><p>Performance Observer：用于检测性能度量事件，在浏览器的性能时间轴记录下一个新的performance</p></li> <li><p>图片格式的区别：</p> <p>jpg：有损压缩，24位图</p> <p>png：无损压缩，PNG8、PNG24、PNG32（支持透明通道）</p> <p>gif：无损压缩，8位（256种颜色），简单动画领域</p> <p>都能表现24色，但是jpg是有损压缩，所以大小比PNG24小，所以色彩丰富的网络图片用jpg。</p></li> <li></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.585d659a.js" defer></script><script src="/assets/js/2.5bf1c715.js" defer></script><script src="/assets/js/30.4a27f7bc.js" defer></script>
  </body>
</html>

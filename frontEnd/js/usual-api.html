<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常用API | 老杆的前端记录</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="Go big or go home">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.585d659a.js" as="script"><link rel="preload" href="/assets/js/2.5bf1c715.js" as="script"><link rel="preload" href="/assets/js/37.c5143da6.js" as="script"><link rel="prefetch" href="/assets/js/10.3c4722f1.js"><link rel="prefetch" href="/assets/js/11.926d9a65.js"><link rel="prefetch" href="/assets/js/12.89662875.js"><link rel="prefetch" href="/assets/js/13.b24d0fd4.js"><link rel="prefetch" href="/assets/js/14.fe4261ec.js"><link rel="prefetch" href="/assets/js/15.d5d2b490.js"><link rel="prefetch" href="/assets/js/16.d7cb7df3.js"><link rel="prefetch" href="/assets/js/17.a8a539e4.js"><link rel="prefetch" href="/assets/js/18.9a7a379f.js"><link rel="prefetch" href="/assets/js/19.902e5d6c.js"><link rel="prefetch" href="/assets/js/20.89b4b03e.js"><link rel="prefetch" href="/assets/js/21.b9428d88.js"><link rel="prefetch" href="/assets/js/22.bca3e9c2.js"><link rel="prefetch" href="/assets/js/23.dd12f692.js"><link rel="prefetch" href="/assets/js/24.a1974514.js"><link rel="prefetch" href="/assets/js/25.e878ae6c.js"><link rel="prefetch" href="/assets/js/26.efd1416d.js"><link rel="prefetch" href="/assets/js/27.867f73b1.js"><link rel="prefetch" href="/assets/js/28.fbfc66d6.js"><link rel="prefetch" href="/assets/js/29.279cac21.js"><link rel="prefetch" href="/assets/js/3.2cde5f11.js"><link rel="prefetch" href="/assets/js/30.4a27f7bc.js"><link rel="prefetch" href="/assets/js/31.11173338.js"><link rel="prefetch" href="/assets/js/32.c2786358.js"><link rel="prefetch" href="/assets/js/33.8f760173.js"><link rel="prefetch" href="/assets/js/34.f437c018.js"><link rel="prefetch" href="/assets/js/35.ca6d5641.js"><link rel="prefetch" href="/assets/js/36.e670371f.js"><link rel="prefetch" href="/assets/js/38.83226dcf.js"><link rel="prefetch" href="/assets/js/39.29c51311.js"><link rel="prefetch" href="/assets/js/4.90c5fe7f.js"><link rel="prefetch" href="/assets/js/40.9f439bf9.js"><link rel="prefetch" href="/assets/js/41.817698ff.js"><link rel="prefetch" href="/assets/js/42.7086e250.js"><link rel="prefetch" href="/assets/js/5.93058ddb.js"><link rel="prefetch" href="/assets/js/6.0e5f5053.js"><link rel="prefetch" href="/assets/js/7.e30bb482.js"><link rel="prefetch" href="/assets/js/8.5e1ee355.js"><link rel="prefetch" href="/assets/js/9.574fd584.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">老杆的前端记录</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  求职笔记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端相关" class="dropdown-title"><span class="title">前端相关</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端相关" class="mobile-dropdown-title"><span class="title">前端相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontEnd/html/html-audition.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/css/css-audition.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/js/js-audition.html" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/vue/vue-audition.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/webpack/webpack-audition.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/browser/browser-audition.html" class="nav-link">
  Browser
</a></li></ul></div></div><div class="nav-item"><a href="/computerBase/" class="nav-link">
  计算机基础
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  求职笔记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端相关" class="dropdown-title"><span class="title">前端相关</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端相关" class="mobile-dropdown-title"><span class="title">前端相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontEnd/html/html-audition.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/css/css-audition.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/js/js-audition.html" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/vue/vue-audition.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/webpack/webpack-audition.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/browser/browser-audition.html" class="nav-link">
  Browser
</a></li></ul></div></div><div class="nav-item"><a href="/computerBase/" class="nav-link">
  计算机基础
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/frontEnd/js/hand.html" class="sidebar-link">JS常见手写题</a></li><li><a href="/frontEnd/js/usual-api.html" aria-current="page" class="active sidebar-link">常用API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontEnd/js/usual-api.html#数据类型转换" class="sidebar-link">数据类型转换</a></li><li class="sidebar-sub-header"><a href="/frontEnd/js/usual-api.html#date" class="sidebar-link">Date</a></li><li class="sidebar-sub-header"><a href="/frontEnd/js/usual-api.html#regexp" class="sidebar-link">RegExp</a></li><li class="sidebar-sub-header"><a href="/frontEnd/js/usual-api.html#string" class="sidebar-link">String</a></li><li class="sidebar-sub-header"><a href="/frontEnd/js/usual-api.html#global" class="sidebar-link">Global</a></li><li class="sidebar-sub-header"><a href="/frontEnd/js/usual-api.html#array" class="sidebar-link">Array</a></li><li class="sidebar-sub-header"><a href="/frontEnd/js/usual-api.html#定型数组" class="sidebar-link">定型数组</a></li><li class="sidebar-sub-header"><a href="/frontEnd/js/usual-api.html#map" class="sidebar-link">Map</a></li><li class="sidebar-sub-header"><a href="/frontEnd/js/usual-api.html#weakmap" class="sidebar-link">WeakMap</a></li><li class="sidebar-sub-header"><a href="/frontEnd/js/usual-api.html#set" class="sidebar-link">Set</a></li><li class="sidebar-sub-header"><a href="/frontEnd/js/usual-api.html#weakset" class="sidebar-link">WeakSet</a></li></ul></li><li><a href="/frontEnd/js/DOM.html" class="sidebar-link">常用DOM操作</a></li><li><a href="/frontEnd/js/js-audition.html" class="sidebar-link">JS面试相关</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="常用api"><a href="#常用api" class="header-anchor">#</a> 常用API</h1> <h2 id="数据类型转换"><a href="#数据类型转换" class="header-anchor">#</a> 数据类型转换</h2> <h3 id="parseint"><a href="#parseint" class="header-anchor">#</a> parseInt</h3> <p>第二个参数传入0则默认是10进制转换，忽略前置0，如果字符串0x开头则用16进制转换；传入1、3等无效进制数则返回NaN；返回2则用二进制转化，只有01有效</p> <h2 id="date"><a href="#date" class="header-anchor">#</a> Date</h2> <p>用于创建日期对象</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> someDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//这里只能接受一个毫秒表示</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="常用方法"><a href="#常用方法" class="header-anchor">#</a> 常用方法</h3> <table><thead><tr><th>方法名</th> <th>用法</th> <th>作用</th></tr></thead> <tbody><tr><td>Date.parse()</td> <td>Date.parse(&quot;5/23/2019&quot;)</td> <td>接受一个表示日期的字符串参数，辅助变成毫秒数传入new Date中</td></tr> <tr><td>Date.UTC()</td> <td>Date.UTC(2005,4,5,17,55,55)</td> <td>接受几个数值，分别表示年月（必须）、日时分（默认值是0），辅助变成毫秒数传入new Date中</td></tr> <tr><td>Date.now()</td> <td>let satrt = Date.now()</td> <td>返回表示方法执行时日期和时间的毫秒数</td></tr> <tr><td>getTime()</td> <td></td> <td>返回日期的毫秒表示</td></tr> <tr><td>getFullYear()</td> <td></td> <td>返回4位数年</td></tr> <tr><td>getMonth()</td> <td></td> <td>返回日期的月（0表示1月，11表示12月）</td></tr> <tr><td>getDate()</td> <td></td> <td>返回日期的月（1-31）</td></tr> <tr><td>getDay()</td> <td></td> <td>返回日期中表示周几的数值（0表示周日，6表示周日）</td></tr> <tr><td>getHours()</td> <td></td> <td>返回日期的时（0-23）</td></tr> <tr><td>getMinutes()</td> <td></td> <td>返回日期的分（0-59）</td></tr> <tr><td>getSeconds()</td> <td></td> <td>返回日期的秒（0-59）</td></tr></tbody></table> <h2 id="regexp"><a href="#regexp" class="header-anchor">#</a> RegExp</h2> <p>正则表达式</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> expression <span class="token operator">=</span> <span class="token operator">/</span>pattern<span class="token operator">/</span>flags <span class="token punctuation">;</span>
<span class="token keyword">let</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExg</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;flags&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="常用标记"><a href="#常用标记" class="header-anchor">#</a> 常用标记：</h3> <table><thead><tr><th>标记名</th> <th>作用</th></tr></thead> <tbody><tr><td>g</td> <td>设置之后开启全局匹配，不是找到第一个匹配的内容就结束</td></tr> <tr><td>i</td> <td>设置之后忽略pattern和字符串中字符的大小写</td></tr> <tr><td>y</td> <td>设置之后每次调用exec就只会在lastIndex的位置上寻址匹配项，即得紧跟着。</td></tr></tbody></table> <h3 id="常用实例属性"><a href="#常用实例属性" class="header-anchor">#</a> 常用实例属性</h3> <ul><li>lastIndex：整数，表示源字符串中下一次搜索的开始位置</li> <li>flags：正则表达式的标记字符串</li></ul> <h3 id="常用实例方法"><a href="#常用实例方法" class="header-anchor">#</a> 常用实例方法</h3> <table><thead><tr><th>方法名</th> <th>用法</th> <th>作用</th></tr></thead> <tbody><tr><td>pattern.exec()</td> <td>let matches = pattern.exec(text)；matches[0]为源串；marches[1]为第一个匹配组匹配到的</td> <td>主要配合捕获组使用，接收一个应用模式的字符串，找到匹配项则返回包含第一个匹配信息的<strong>数组</strong>，这个<strong>数组</strong>会多两个属性：<code>index</code>和<code>input</code>；如果没有找到则返回<code>null</code>。如果模式设置了全局标记，则每次调用都会向前搜索，返回一个匹配的信息，如果没有全局标记，则无论调用多少次，都只返回第一个匹配的信息</td></tr> <tr><td>pattern.test()</td> <td>pattern.test(text)</td> <td>接收一个字符串参数，返回一个布尔值，如果匹配就返回<code>true</code>，否则返回<code>false</code></td></tr> <tr><td></td> <td></td> <td></td></tr></tbody></table> <h3 id="元字符及其含义"><a href="#元字符及其含义" class="header-anchor">#</a> 元字符及其含义</h3> <p>包括 \ { } . + ? $ ( ) | ^ [ ]</p> <table><thead><tr><th>字符</th> <th>描述</th></tr></thead> <tbody><tr><td>\</td> <td>将下一个字符标记为一个特殊字符、或一个原义字符、或一个 向后引用、或一个八进制转义符。例如，'n' 匹配字符 &quot;n&quot;。'\n' 匹配一个换行符</td></tr> <tr><td>^</td> <td>开始</td></tr> <tr><td>$</td> <td>结束</td></tr> <tr><td>*</td> <td>匹配前面的子表达式0次或多次</td></tr> <tr><td>+</td> <td>匹配前面的子表达式1次或多次</td></tr> <tr><td>?</td> <td>匹配前面的子表达式0次或1次</td></tr> <tr><td>.</td> <td>匹配除换行符之外的任何单个字符</td></tr> <tr><td>?</td> <td>当该字符紧跟任何一个其他限制符（*，+，？，{n}等）后面时表示匹配模式是非贪婪的。尽可能少的匹配所搜索的字符串</td></tr> <tr><td>{n}</td> <td>匹配确定的n次</td></tr> <tr><td>{n,}</td> <td>匹配至少n次</td></tr> <tr><td>{n,m}</td> <td>匹配大于n次最多匹配m次</td></tr> <tr><td>\b</td> <td>匹配一个单词边界</td></tr> <tr><td>\B</td> <td>匹配非单词边界</td></tr> <tr><td>\w</td> <td>匹配数字、字母、下划线。等价于[A-Za-z0-9_]</td></tr> <tr><td>\W</td> <td>匹配非字母、数字、下划线</td></tr> <tr><td>\d</td> <td>匹配一个数字字符，等价于[0-9]</td></tr> <tr><td>\D</td> <td>匹配一个非数字字符，等价于[ ^0-9 ]</td></tr> <tr><td>\s</td> <td>匹配任何空白字符，包括空格、制表符、换页符等</td></tr> <tr><td>\S</td> <td>匹配任何非空白字符</td></tr> <tr><td>[a-z]</td> <td>字符范围</td></tr> <tr><td>[^a-z]</td> <td>剔除范围</td></tr> <tr><td>|</td> <td>或</td></tr></tbody></table> <h2 id="string"><a href="#string" class="header-anchor">#</a> String</h2> <table><thead><tr><th>方法名</th> <th>用法</th> <th>是否改变原串</th></tr></thead> <tbody><tr><td>charAt</td> <td>查看字符串中指定索引位置的16位码元，即字符</td> <td></td></tr> <tr><td>charCodeAt</td> <td>查看指定码元的字符编码</td> <td></td></tr> <tr><td><strong>slice</strong></td> <td>第一个参数表示开始位置，第二个参数表示提取结束的位置（不会提取该位置的字符）；省略第二个参数会 提取到末尾；将传入的所有负数值当成字符串长度加上负数值</td> <td>否</td></tr> <tr><td><strong>substr</strong></td> <td>第一个参数表示开始位置，第二个参数表示返回的子字符串长度；省略第二个参数会提取到末尾；传入负数时，将第一个参数值当成字符串长度加上负数值，第二个参数值转换为0（即提取个空串）</td> <td>否</td></tr> <tr><td><strong>substring</strong></td> <td>第一个参数表示开始位置，第二个参数表示提取的结束位置（不会提取该位置的字符）；省略第二个参数会提取到末尾；将所有传入的负数当成0；会将较小的数当成起点</td> <td>否</td></tr> <tr><td>indexOf</td> <td>从头开始搜索，第一个参数为要搜索的字符串，第二个参数表示开始搜索的位置</td> <td></td></tr> <tr><td>lastIndexOf</td> <td>从末尾开始搜索，第一个参数为要搜索的字符串，第二个参数表示开始搜索的位置</td> <td></td></tr> <tr><td>startsWith</td> <td>以什么开头，检查开始与索引0的匹配项，返回布尔值，第二个参数可以指定开始搜索的位置</td> <td></td></tr> <tr><td>endsWith</td> <td>以什么结尾，检查从末尾开始的匹配项，返回布尔值，第二个参数可以指定开始搜索的位置</td> <td></td></tr> <tr><td>includes</td> <td>搜索整个字符串是否包含指定内容，返回布尔值，第二个参数可以指定开始搜索的位置</td> <td></td></tr> <tr><td>trim</td> <td>返回一个副本，该副本删除前后所有的空格符</td> <td>否</td></tr> <tr><td>match</td> <td>传入一个正则，返回一个数组，第一个元素是与整个模式匹配的字符串，其余元素是捕获组匹配的内容</td> <td></td></tr> <tr><td>search</td> <td>传入一个正则，返回匹配到的第一个位置索引，如果没有返回-1</td> <td></td></tr> <tr><td>replace</td> <td>第一个参数是正则或字符串，表示想要被替换的字符串，第二个参数指定要替换的内容，可以是$1,$2...指定捕获组</td> <td>否</td></tr> <tr><td>split</td> <td>返回一个数组，根据传入的标识符将字符串拆分为数组，第二个参数可以限定返回数组的大小，默认是空串</td> <td>否</td></tr> <tr><td>padEnd</td> <td>复制字符串，第一个参数是指定的目标长度，小于目标长度则填充第二个参数指定的字符串，默认是空格</td> <td>否</td></tr> <tr><td>padStart</td> <td>复制字符串，第一个参数是指定目标长度，小于目标长度则填充第二个参数指定的字符串，默认是空格</td> <td>否</td></tr></tbody></table> <h4 id="应用"><a href="#应用" class="header-anchor">#</a> 应用</h4> <p>将一段HTML中的4个字符替换成对应的实体：小于号，大于号、和号、还有双引号</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
<span class="token keyword">function</span> <span class="token function">htmlEscape</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> text<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[&lt;&gt;&quot;&amp;]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span> pos<span class="token punctuation">,</span> originalText</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">switch</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token string">&quot;&lt;&quot;</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;&amp;lt;&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">&quot;&gt;&quot;</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;&amp;gt;&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">&quot;&amp;&quot;</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;&amp;amp;&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">&quot;\&quot;&quot;</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;quot&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="global"><a href="#global" class="header-anchor">#</a> Global</h2> <p>代码无法显示的访问它，在全局作用域中定义的变量和函数都会变成Global对象的属性</p> <h3 id="uri编码方法"><a href="#uri编码方法" class="header-anchor">#</a> URI编码方法</h3> <ul><li>encodeURI：不会编码属于URI组件的特殊字符，如冒号、斜杠、问好、井号</li> <li>decodeURI：只对encodeURI编码过的字符解码，%20会被替换成空格</li> <li>encodeURIComponent：会编码它发现的所有非标准字符</li> <li>decodeURIComponent：解码所有被encodeURIComponent()编码的字符，基本上就是解码所有特殊值</li></ul> <h3 id="eval方法"><a href="#eval方法" class="header-anchor">#</a> Eval方法</h3> <p>eval方法接收一个参数，一个要执行的ECMAScript字符串</p> <p>eval内部可以访问所在上下文的变量</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;function sayHi() {}&quot;</span><span class="token punctuation">)</span>
<span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//可以访问到</span>

<span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;let msg = 'xxx';&quot;</span><span class="token punctuation">)</span>
msg<span class="token punctuation">;</span> <span class="token comment">//报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>在eval中定义的任何变量和函数都不会被提升，他们只在eval方法执行的时候才会被创建</p> <p>在严格模式下，在eval内部创建的函数和变量都无法被外部访问</p></div> <h3 id="window对象"><a href="#window对象" class="header-anchor">#</a> window对象</h3> <p>浏览器将window对象实现为Global对象的代理，所以，全局作用域中声明的变量和函数都变成了window的属性</p> <h3 id="math"><a href="#math" class="header-anchor">#</a> Math</h3> <p>Math对象保存数学公式、信息、计算的地方；提供了一些计算用的方法和属性</p> <h4 id="应用-2"><a href="#应用-2" class="header-anchor">#</a> 应用</h4> <p><code>random()</code>方法返回一个0~1的随机数，包含0但不包括1；</p> <p><code>number = Math.floor(Math.random() * total_number_of_choices + first_possible_value )</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> num <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 生成1 - 10范围内的随机数</span>

<span class="token keyword">let</span> num <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//生成 2- 9范围内的随机数</span>

<span class="token comment">// 生成随机数的函数</span>
<span class="token keyword">function</span> <span class="token function">selectFrom</span><span class="token punctuation">(</span><span class="token parameter">lowerValue<span class="token punctuation">,</span> upperValue</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> choices <span class="token operator">=</span> upperValue <span class="token operator">-</span> lowerValue <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//生成选择长度</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> choices <span class="token operator">+</span> lowerValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="array"><a href="#array" class="header-anchor">#</a> Array</h2> <h4 id="构造函数上的方法"><a href="#构造函数上的方法" class="header-anchor">#</a> 构造函数上的方法</h4> <ul><li>Array.from（ES6）：用于创建数组，传入一个类数组的对象，即任何可迭代的结构，或者有一个length属性和可索引元素的结构。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'Matt'</span><span class="token punctuation">)</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//传入映射类Map、集合类Set</span>
<span class="token keyword">const</span> a2 <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//对数组进行浅复制</span>
<span class="token keyword">const</span> a3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>a2<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//也是浅复制</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>Array.of（ES6）：可以把一组参数转换为数组</li> <li>Array.isArray：判断一个值是否为数组</li></ul> <h4 id="原型上的方法"><a href="#原型上的方法" class="header-anchor">#</a> 原型上的方法</h4> <table><thead><tr><th>方法名</th> <th>用法</th> <th>是否改变原数组</th></tr></thead> <tbody><tr><td>copyWithin（ES6）</td> <td>按指定范围浅复制数组中的部分内容，然后将他们插入到指定索引开始的位置。<code>copyWithin(5)</code>表示复制索引0开始的位置，插入到索引5开始的位置；<code>copyWithin(startInsert, start, end)</code>表示复制从start索引到end索引 ，不包含结束索引，插入到从索引startInsert开始往后的元素，覆盖</td> <td>是</td></tr> <tr><td>fill（ES6）</td> <td>向一个已有数组中插入全部或部分相同的值。<code>fill(5)</code>表示用5填充整个数组；<code>fill(fillVal, startIndex,endIndex)</code>表示用<code>fillVal</code>填充从<code>startIndex</code>到<code>endIndex</code>但不包含结束索引的元素</td> <td>是</td></tr> <tr><td>join</td> <td>不传入参数，返回数组值以逗号分隔的字符串，这也是数组toString的默认行为，但也可以传入其他分隔符</td> <td>否</td></tr> <tr><td>push</td> <td>推入到数组末尾，返回数组的最新长度</td> <td>是</td></tr> <tr><td>pop</td> <td>删除数组的最后一项，返回被删除的项</td> <td>是</td></tr> <tr><td>shift</td> <td>取出数组的第一项，返回取出的项</td> <td>是</td></tr> <tr><td>unshift</td> <td>在数组开头添加元素，返回新的数组长度</td> <td>是</td></tr> <tr><td>reverse</td> <td>将数组元素反向排类</td> <td>是</td></tr> <tr><td>sort</td> <td>默认sort按升序重新排列数组元素，但是是将每一项调用String函数转型后进行比较、排序；可选择传入一个排序函数，<strong>如果第一个参数应该排在第二个参数前面则返回负值；如果两个参数相等就返回0；如果第一个参数应该排在第二个参数后面，则返回正值</strong></td> <td>是</td></tr> <tr><td>concat</td> <td>创建一个数组的副本，将传入的参数添加到副本的末尾，最后返回这个副本</td> <td>否</td></tr> <tr><td>slice</td> <td>用于创建一个包含原有数组中一个或多个元素的新数组。slice(start, end)从start到end，但不包含end索引处的元素；传入负值相当于以数组长度加上这个负值的结果确定位置</td> <td><strong>否</strong></td></tr> <tr><td>splice</td> <td>删除：splice(start, number)第一个参数传入删除的第一个元素的索引，和要删除的元素数量；插入：splice(start, 0, ...items)，第一个参数表示开始删除的索引位置，删除数量为0，插入元素若干；替换：splice(start, number, ...items)在删除元素的同时在指定位置插入任意多个元素;<strong>该方法始终返回一个包含删除元素的数组，没有删除则返回空数组</strong></td> <td><strong>是</strong></td></tr> <tr><td>indexOf</td> <td>严格相等；从数组开头搜索，第二个参数指定起始搜索位置，返回位置</td> <td></td></tr> <tr><td>lastIndexOf</td> <td>严格相等；从数组末尾开始搜索，第二个参数指定起始搜索位置，返回位置</td> <td></td></tr> <tr><td>includes      （ECMA 2017）</td> <td>严格相等；从数组开头向后搜索，第二个参数指定起始搜索位置，是否至少找到一个匹配项，返回布尔值</td> <td></td></tr> <tr><td>find</td> <td>找到数组中第一个匹配的元素，找到匹配后不再继续搜索</td> <td></td></tr> <tr><td>findIndex</td> <td>找到数组中第一个匹配的下标，找到匹配后不再继续搜索</td> <td></td></tr> <tr><td>every</td> <td>对数组每一项都运行传入的函数，需要每一项都返回true，整个方法才返回true</td> <td></td></tr> <tr><td>some</td> <td>对数组每一项都运行传入的函数，有一项返回true，整个方法就返回true</td> <td></td></tr> <tr><td>map</td> <td>对数组每一项都运行传入的函数，返回由每次函数调用结果而构成的数组</td> <td>否</td></tr> <tr><td>forEach</td> <td>对数组每一项都运行传入的函数，相当于遍历</td> <td></td></tr> <tr><td>filter</td> <td>对数组每一项都运行传入的函数，函数返回true的项会组成数组，返回这个数组</td> <td></td></tr> <tr><td>reduce</td> <td>归并方法，从数组第一项开始遍历，每一项在基础值之上构建一个最终的返回值。如果没传pre，则会以一个元素做为pre，直接从第二个元素开始遍历。</td> <td></td></tr> <tr><td>reduceRight</td> <td>归并方法，从数组最后一项开始遍历，对数组每一项在基础值之上构建一个最终的返回值。如果没传pre，则会以一个元素做为pre，直接从第二个元素开始遍历。</td> <td></td></tr></tbody></table> <h2 id="定型数组"><a href="#定型数组" class="header-anchor">#</a> 定型数组</h2> <h3 id="arraybuffer"><a href="#arraybuffer" class="header-anchor">#</a> ArrayBuffer</h3> <p>定义一块预分配的内存空间，是所有定型数组及视图引用的基本单位</p> <p>ArrayBuffer构造函数，一旦分配了空间就不能再调整大小</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//分配16字节的内存块</span>
<span class="token keyword">const</span> buf2 <span class="token operator">=</span> buf<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//分配8个字节的内存块给buf2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="dataview"><a href="#dataview" class="header-anchor">#</a> DataView</h3> <p>第一种允许你读写ArrayBuffer的视图是DataView，可以使用全部或者部分的ArrayBuffer</p> <p><code>new DataView(buffer, byteOffset, byteLength)</code></p> <p><code>byteOffset = 0</code>表示视图从缓冲起点开始</p> <p><code>byteLength</code>未指定默认为剩余缓冲</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> d1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataView</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//</span>
d1<span class="token punctuation">.</span>byteOffset
d1<span class="token punctuation">.</span>byteLength
d1<span class="token punctuation">.</span>buffer <span class="token operator">===</span> buf <span class="token comment">// true</span>

<span class="token keyword">const</span> d2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataView</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//从起点开始往后8个字节</span>
d2<span class="token punctuation">.</span>byteOffset<span class="token punctuation">;</span> <span class="token comment">//0</span>
d2<span class="token punctuation">,</span>byteLength<span class="token punctuation">;</span> <span class="token comment">// 8</span>

<span class="token keyword">const</span> d3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataView</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//从第9个字节开始往后</span>

<span class="token keyword">const</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataView</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 需根据字节数 获取1个字节 所以下标为0的对应缓冲块中0-7个字节</span>
view<span class="token punctuation">.</span><span class="token function">getInt8</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
view<span class="token punctuation">.</span><span class="token function">getInt8</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
view<span class="token punctuation">.</span><span class="token function">setInt8</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将前1个字节 即8位 设置位 11111111</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="定型数组-2"><a href="#定型数组-2" class="header-anchor">#</a> 定型数组</h3> <p>创建定型数组，通过构造函数读取已创建的缓冲，通过&lt; ElementType &gt; .from() &lt; ElementType &gt; .of()也可以创建定性数组</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> ints <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//一个int324个字节， 12个字节，数组长度为3</span>
ints<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 3</span>
ints<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>byteLength<span class="token punctuation">;</span> <span class="token comment">//返回数组的字节长度</span>
<span class="token keyword">const</span> ints2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>；<span class="token comment">// 创建长度为6的int32Array</span>
<span class="token keyword">const</span> ints3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">,</span><span class="token number">5</span> <span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建长度为4的数组</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>定型数组和普通数组的行为类似，支持for..of循环和扩展运算符</p> <ul><li>set()：把值赋值到当前定型数组的指定位置处</li> <li>subarray()，指定开始索引和结束索引，从一个定型数组中复制一个数组出来</li></ul> <h2 id="map"><a href="#map" class="header-anchor">#</a> Map</h2> <p>new Map构造函数可以创建一个空映射，也可以传入一个包含键值对的数组，可迭代对象中的每个键值对都会<strong>按顺序</strong>插入到映射中，可以使用任何JS数据类型作为键</p> <p>方法：has、get、set、clear、delete</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> m1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'key1'</span><span class="token punctuation">,</span> <span class="token string">'val1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'key2'</span><span class="token punctuation">,</span> <span class="token string">'val2'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// for...of引用的是map.entries 返回键值对的迭代器</span>
<span class="token comment">// map.keys() 返回键的迭代器</span>
<span class="token comment">// map.values() 返回值的迭代器</span>
<span class="token comment">// map.forEach((val, key)=&gt;{})</span>

<span class="token keyword">let</span> map1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> map2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>map1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 复制</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="weakmap"><a href="#weakmap" class="header-anchor">#</a> WeakMap</h2> <p>ES6新增的弱映射，弱映射中的键只能是Object或者继承自Object的类型，值的类型没有限制。</p> <p>键的引用不属于正式的引用，不会阻止垃圾回收，只要键存在，键值对就会存在于映射中，并会当作是对<strong>值的引用</strong>，因此值<strong>不会</strong>被当作垃圾回收。如果没有对弱映射里的键（对象）的引用，键就会被垃圾回收，键值对就会从弱映射里消失了</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> wm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
wm<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'val'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>因为WeakMap中的键值对任何时候都可能被销毁，所以<strong>没必要</strong>提供迭代键值对的能力，也用不着有clear这样一次性销毁所有键值对的方法</p> <h2 id="set"><a href="#set" class="header-anchor">#</a> Set</h2> <p>集合类型，给Set构造函数传入一个可迭代对象，其中需要包含插入到新集合实例中的元素，可以包含任何JS数据类型作为值</p> <p>会维护值插入的顺序，并支持按顺序迭代</p> <p>方法：add、has、delete、clear</p> <h2 id="weakset"><a href="#weakset" class="header-anchor">#</a> WeakSet</h2> <p>弱集合中的值只能是Object或者继承自Object的类型</p> <p>这些值不属于正式的引用，不会阻止垃圾回收。当没有指向值对象的引用，值对象就会被当作垃圾回收</p> <p>因为值在任何时候都可能被销毁，所以<strong>没必要</strong>提供迭代的能力，也用不着有clear这样一次性销毁所有值的方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

ws<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontEnd/js/hand.html" class="prev">
        JS常见手写题
      </a></span> <span class="next"><a href="/frontEnd/js/DOM.html">
        常用DOM操作
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.585d659a.js" defer></script><script src="/assets/js/2.5bf1c715.js" defer></script><script src="/assets/js/37.c5143da6.js" defer></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webpack面试相关 | 老杆的前端记录</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="Go big or go home">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.585d659a.js" as="script"><link rel="preload" href="/assets/js/2.5bf1c715.js" as="script"><link rel="preload" href="/assets/js/40.9f439bf9.js" as="script"><link rel="prefetch" href="/assets/js/10.3c4722f1.js"><link rel="prefetch" href="/assets/js/11.926d9a65.js"><link rel="prefetch" href="/assets/js/12.89662875.js"><link rel="prefetch" href="/assets/js/13.b24d0fd4.js"><link rel="prefetch" href="/assets/js/14.fe4261ec.js"><link rel="prefetch" href="/assets/js/15.d5d2b490.js"><link rel="prefetch" href="/assets/js/16.d7cb7df3.js"><link rel="prefetch" href="/assets/js/17.a8a539e4.js"><link rel="prefetch" href="/assets/js/18.9a7a379f.js"><link rel="prefetch" href="/assets/js/19.902e5d6c.js"><link rel="prefetch" href="/assets/js/20.89b4b03e.js"><link rel="prefetch" href="/assets/js/21.b9428d88.js"><link rel="prefetch" href="/assets/js/22.bca3e9c2.js"><link rel="prefetch" href="/assets/js/23.dd12f692.js"><link rel="prefetch" href="/assets/js/24.a1974514.js"><link rel="prefetch" href="/assets/js/25.e878ae6c.js"><link rel="prefetch" href="/assets/js/26.efd1416d.js"><link rel="prefetch" href="/assets/js/27.867f73b1.js"><link rel="prefetch" href="/assets/js/28.fbfc66d6.js"><link rel="prefetch" href="/assets/js/29.279cac21.js"><link rel="prefetch" href="/assets/js/3.2cde5f11.js"><link rel="prefetch" href="/assets/js/30.4a27f7bc.js"><link rel="prefetch" href="/assets/js/31.11173338.js"><link rel="prefetch" href="/assets/js/32.c2786358.js"><link rel="prefetch" href="/assets/js/33.8f760173.js"><link rel="prefetch" href="/assets/js/34.f437c018.js"><link rel="prefetch" href="/assets/js/35.ca6d5641.js"><link rel="prefetch" href="/assets/js/36.e670371f.js"><link rel="prefetch" href="/assets/js/37.c5143da6.js"><link rel="prefetch" href="/assets/js/38.83226dcf.js"><link rel="prefetch" href="/assets/js/39.29c51311.js"><link rel="prefetch" href="/assets/js/4.90c5fe7f.js"><link rel="prefetch" href="/assets/js/41.817698ff.js"><link rel="prefetch" href="/assets/js/42.7086e250.js"><link rel="prefetch" href="/assets/js/5.93058ddb.js"><link rel="prefetch" href="/assets/js/6.0e5f5053.js"><link rel="prefetch" href="/assets/js/7.e30bb482.js"><link rel="prefetch" href="/assets/js/8.5e1ee355.js"><link rel="prefetch" href="/assets/js/9.574fd584.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">老杆的前端记录</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  求职笔记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端相关" class="dropdown-title"><span class="title">前端相关</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端相关" class="mobile-dropdown-title"><span class="title">前端相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontEnd/html/html-audition.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/css/css-audition.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/js/js-audition.html" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/vue/vue-audition.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/webpack/webpack-audition.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/browser/browser-audition.html" class="nav-link">
  Browser
</a></li></ul></div></div><div class="nav-item"><a href="/computerBase/" class="nav-link">
  计算机基础
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  求职笔记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端相关" class="dropdown-title"><span class="title">前端相关</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端相关" class="mobile-dropdown-title"><span class="title">前端相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontEnd/html/html-audition.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/css/css-audition.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/js/js-audition.html" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/vue/vue-audition.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/webpack/webpack-audition.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/browser/browser-audition.html" class="nav-link">
  Browser
</a></li></ul></div></div><div class="nav-item"><a href="/computerBase/" class="nav-link">
  计算机基础
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/frontEnd/webpack/webpack-audition.html" aria-current="page" class="active sidebar-link">Webpack面试相关</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack面试相关"><a href="#webpack面试相关" class="header-anchor">#</a> Webpack面试相关</h1> <ul><li><p>webpack打包原理</p> <ul><li>打包后生成的bundle.js代码分析：是个立即调用函数</li></ul></li> <li><p>讲讲webpack的核心概念</p> <p>入口：指定哪个文件作为构建内部依赖图的开始</p> <p>出口：在哪里输出所创建的bundles</p> <p>loader：让webpack能去处理那些非JavaScript的文件</p> <p>plugin：用于打包优化和压缩，扩展webpack的功能</p> <p>模式</p></li> <li><p>sourcemap（devtool配置 代码如果出错控制台报错的形式），一项将编译、打包、压缩后的代码映射回源代码的技术</p></li> <li><p>HMR（模块热更新 ）：webpackDevServer的配置，css代码改变会重新渲染css样式，不会丢失之前的dom，</p> <p>js中使用HMR，不会因为一个模块的改变而丢掉其他模块的状态，</p> <p>热更新原理：websocket</p></li> <li><p>plugin（一个类）和loader（函数）的区别</p> <p>loader：针对除了js之外的文件进行打包，仅仅是为了打包</p> <p>plugin：对webpack功能的扩展</p></li> <li><p>babel原理：</p> <p>1、解析。解析接收的代码并输出AST。@babel/parser解析代码</p> <p>2、转换。@babel/traverse(遍历）。遍历过程中执行插件，将高版本的AST转为低版本的AST</p> <p>3、生成。@babel/generator。转为字符串形式的低版本代码，重新AST转为code，同时创建source Map映射</p></li> <li><p>webpack优化：大的包放在cdn上，分为速度的优化、体积的优化</p> <ul><li><p>自带的优化 tree-sharking（依赖关系的解析 不用的代码不打包 生产环境下自动） scope-hoisting（作用域提升 定义的变量如果拿这些变量直接能得到一个结果，不会把变量打包到代码中）</p></li> <li><p>优化打包体积</p> <ul><li><p>压缩代码。多线程并行压缩。mini-css-extract-plugin 提取 Chunk 中的 CSS 代码到单独文件，通过optimize-css-assets-webpack-plugin插件 开启 cssnano 压缩 CSS。</p></li> <li><p>提取页面公共资源。html-webpack-externals-plugin，将基础包通过 CDN 引入，不打入 bundle 中</p></li> <li><p>Tree-Shaking</p></li> <li><p>Scope hoisting</p> <p>构建后的代码会存在大量闭包，造成体积增大，运行代码时创建的函数作用域变多，内存开销变大。Scope hoisting 将所有模块的代码按照引用顺序放在一个函数作用域里，然后适当的重命名一些变量以防止变量名冲突</p></li></ul></li> <li><p>优化构建速度</p> <ul><li>babel-loader开启缓存</li> <li>指明路径。合理使用alias。减少不必要的查找</li> <li>DLL。将一些基本不会改动的代码先打包成静态资源，避免反复编译浪费时间</li> <li>noParse。不去解析某个库内部的依赖关系</li> <li>多线程打包 thread-loader。放在一个worker池子里</li></ul></li></ul></li> <li><p>webpack工作流程
读取webpack的配置参数，启动webpack，new一个compiler开始解析，从入口文件开始解析，导入依赖的模块，递归解析，形成依赖图。对不同文件类型的模块进行对应的loader编译，最终转为js文件。整个过程中webpack会通过发布订阅模式向外抛出一些hooks，用webpack 的插件可以通过监听执行任务而达到干预输出结果的目的。</p></li> <li><p>“devDependencies”：仅在开发时依赖  / “dependencies”：运行依赖</p></li> <li><p>npm run xxx的过程 npm run xxx 后面的xxx命令不存在于操作系统中，在我们npm install安装依赖的时候，就会在node_modules/.bin/目录中创建好几个可执行的文件，.bin目录下是一个个软链接，表示一个个脚本，这个软链接链接到最外层的package-lock.json文件下，当npm i整个项目的时候，npm读到配置文件后，就会将文件软链接到./node_modules/.bin目录下，run的时候就会到bin中找出对应的映射文件，然后找到相应的js文件执行</p></li> <li><p>npm link</p></li> <li></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.585d659a.js" defer></script><script src="/assets/js/2.5bf1c715.js" defer></script><script src="/assets/js/40.9f439bf9.js" defer></script>
  </body>
</html>
